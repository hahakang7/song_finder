<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Select Playlist</title></head>
<body>
<div th:replace="~{fragments/header :: topHeader}"></div>

<h2>Step 1: Select playlist</h2>
<div th:if="${artist != null}">Artist: <b th:text="${artist.name}"></b></div>

<form action="/compare/result" method="get" data-protected="true">
    <input type="hidden" name="artistId" th:value="${artist != null ? artist.id : ''}">
    <select name="playlistId" required>
        <option value="" disabled selected>Select playlist</option>
        <option th:each="pl : ${playlists}" th:value="${pl.id}" th:text="${pl.title}"></option>
    </select>
    <button type="submit">Start comparison</button>
</form>

<div style="margin-top:12px;">
    <a th:if="${currentPage > 1}" th:href="@{/compare/select-playlist(artistId=${artist.id}, page=${currentPage-1})}" data-protected="true">Prev</a>
    <span th:text="${currentPage} + ' / ' + ${totalPages}"></span>
    <a th:if="${currentPage < totalPages}" th:href="@{/compare/select-playlist(artistId=${artist.id}, page=${currentPage+1})}" data-protected="true">Next</a>
</div>

<div th:replace="~{fragments/auth-modal :: authModal}"></div>
<script th:replace="~{fragments/header :: headerScript}"></script>
<script th:replace="~{fragments/auth-modal :: authScript}"></script>
</body>
</html>
