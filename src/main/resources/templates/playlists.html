<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Playlist Management</title></head>
<body>
<div th:replace="~{fragments/header :: topHeader}"></div>

<h2>Playlist Management (dummy)</h2>
<div th:if="${selectedChannelId != null}">Selected Artist: <b th:text="${selectedChannelId}"></b></div>

<ul>
    <li th:each="pl : ${playlists}">
        <a th:href="@{/playlist/{id}(id=${pl.id})}" data-protected="true" th:text="${pl.title}"></a>
        <span th:text="${pl.subscribed} ? 'âœ… subscribed' : 'âŒ not subscribed'"></span>
        <form action="/subscribe/playlist/toggle" method="post" data-protected="true" style="display:inline;">
            <input type="hidden" name="playlistId" th:value="${pl.id}">
            <button type="submit" th:text="${pl.subscribed} ? 'Unsubscribe' : 'Subscribe'"></button>
        </form>
    </li>
</ul>

<div th:replace="~{fragments/auth-modal :: authModal}"></div>
<script th:replace="~{fragments/header :: headerScript}"></script>
<script th:replace="~{fragments/auth-modal :: authScript}"></script>
</body>
</html>
