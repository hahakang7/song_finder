<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>구독목록 관리</title></head>
<body>
<h2>구독목록 관리 (더미)</h2>
<a href="/">홈</a>

<h3>가수 구독</h3>
<ul>
    <li th:each="a : ${subscribedArtists}">
        <b th:text="${a.artistName}"></b>
        <small th:text="' (' + ${a.lastSyncedAt} + ')'" style="color:gray"></small>
        <a th:href="@{/artist/{channelId}(channelId=${a.channelId})}" data-protected="true">관리</a>
        <form action="/subscribe/artist/toggle" method="post" data-protected="true" style="display:inline;">
            <input type="hidden" name="channelId" th:value="${a.channelId}">
            <button type="submit">구독 해지</button>
        </form>
    </li>
</ul>

<h3>재생목록 구독</h3>
<ul>
    <li th:each="p : ${subscribedPlaylists}">
        <b th:text="${p.playlistTitle}"></b>
        <small th:text="' (' + ${p.lastSyncedAt} + ')'" style="color:gray"></small>
        <a th:href="@{/playlist/{id}(id=${p.playlistId})}" data-protected="true">보기</a>
        <form action="/subscribe/playlist/toggle" method="post" data-protected="true" style="display:inline;">
            <button type="submit">구독 해지</button>
        </form>
    </li>
</ul>

<div th:replace="~{fragments/auth-modal :: authModal}"></div>
<script th:replace="~{fragments/auth-modal :: authScript}"></script>
</body>
</html>
