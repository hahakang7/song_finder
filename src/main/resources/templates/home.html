<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Song Finder - Home</title>
</head>
<body>
<h2>홈</h2>

<div style="margin-bottom:12px;">
    <span th:text="${isAuthed} ? '로그인 상태: ON' : '로그인 상태: OFF'"></span>
    <form th:if="${isAuthed}" action="/auth/logout" method="post" style="display:inline; margin-left:8px;">
        <input type="hidden" name="redirect" value="/">
        <button type="submit">로그아웃(더미)</button>
    </form>
</div>

<div style="margin: 12px 0;">
    <a href="/playlists" data-protected="true">재생목록 관리</a>
    <a href="/subscriptions" data-protected="true" style="margin-left:10px;">구독목록 관리</a>
    <a href="/artist/link" data-protected="true" style="margin-left:10px;">아티스트 등록</a>
</div>

<h3>구독한 아티스트(더미)</h3>
<ul>
    <li th:each="a : ${subscribedArtists}">
        <b th:text="${a.artistName}"></b>
        <small th:text="' (최근 동기화: ' + ${a.lastSyncedAt} + ')'" style="color:gray;"></small>
        <a th:href="@{/artist/{channelId}(channelId=${a.channelId})}" data-protected="true" style="margin-left:8px;">관리</a>
        <a th:href="@{/playlists(channelId=${a.channelId})}" data-protected="true" style="margin-left:8px;">비교</a>
    </li>
</ul>

<h3>구독한 재생목록(더미)</h3>
<ul>
    <li th:each="p : ${subscribedPlaylists}">
        <b th:text="${p.playlistTitle}"></b>
        <small th:text="' (최근 동기화: ' + ${p.lastSyncedAt} + ')'" style="color:gray;"></small>
        <a th:href="@{/playlist/{id}(id=${p.playlistId})}" data-protected="true" style="margin-left:8px;">보기</a>
    </li>
</ul>

<div th:replace="~{fragments/auth-modal :: authModal}"></div>
<script th:replace="~{fragments/auth-modal :: authScript}"></script>
</body>
</html>
