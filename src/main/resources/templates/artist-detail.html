<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="UTF-8"><title>Artist Detail</title></head>
<body>
<div th:replace="~{fragments/header :: topHeader}"></div>

<div th:if="${artist != null}">
    <img th:src="${artist.avatarUrl}" width="72" height="72" alt="avatar" style="border-radius:50%;">
    <h2 th:text="${artist.name}"></h2>
    <p>Last Sync: <span th:text="${#temporals.format(artist.lastSyncedAt, 'yyyy-MM-dd HH:mm')}"></span></p>

    <form action="/subscribe/artist/resync" method="post" data-protected="true" style="display:inline;">
        <input type="hidden" name="artistId" th:value="${artist.id}">
        <button type="submit">Resync</button>
    </form>

    <form action="/subscribe/artist/toggle" method="post" data-protected="true" style="display:inline;">
        <input type="hidden" name="artistId" th:value="${artist.id}">
        <button type="submit">Unsubscribe</button>
    </form>

    <a th:href="@{/compare/select-playlist(artistId=${artist.id})}" data-protected="true">Compare with this artist</a>
</div>

<div th:if="${artist == null}">Artist not found.</div>

<div th:replace="~{fragments/auth-modal :: authModal}"></div>
<script th:replace="~{fragments/header :: headerScript}"></script>
<script th:replace="~{fragments/auth-modal :: authScript}"></script>
</body>
</html>
